{% extends '@TimFrontend/Frontend/layout.html.twig' %}

{% block content %}
{% endblock content %}

{% block main_slider %}
     {% set borderImages = '/images/border.png' %}
     <div class="banner-slider">
         <div class="callbacks_container">
          <ul class="rslides" id="slider4">
             {% for key, item in sliderInfo %}
                 <li>
                     <div class="banner-info">
                         <h3 class="wow slideInUp"  data-wow-duration="1s" data-wow-delay=".3s">{{ item.title }}</h3>
                         <p class="wow slideInDown"  data-wow-duration="1s" data-wow-delay=".3s">{{ item.mainText }}</p>
                         <div class="arrows wow slideInDown"  data-wow-duration="1s" data-wow-delay=".2s">
                             <img src="{{ borderImages }}" alt="border"/>
                         </div>
                            <span class="wow slideInUp"  data-wow-duration="1s" data-wow-delay=".3s">
                               {{ item.footer }}
                            </span>
                     </div>
                 </li>
             {% endfor %}
          </ul>
         </div>
     </div>
{% endblock main_slider %}

{% block about %}
    <div class="about" id="about">
        <div class="container">
            {% for i,item in aboutInfo %}
                {% if i is odd %}
                    {% include 'TimFrontendBundle:Frontend/templates:_about_left_template.html.twig' with {'item' : item} %}
                {% else %}
                    {% include 'TimFrontendBundle:Frontend/templates:_about_right_template.html.twig' with {'item' : item} %}
                {% endif %}
            {% endfor %}
        </div>
    </div>
{% endblock about %}

{% block servces %}
    <div class="service" id="services">
        <div class="container">
            <h3 class="tittle">Our Services</h3>
            <div class="arrows-serve"><img src="/images/border.png" alt="border"></div>
            <div class="inst-grids">
                <div class="col-md-3 services-gd text-center wow slideInLeft"  data-wow-duration="1s" data-wow-delay=".3s">
                    <div class="hi-icon-wrap hi-icon-effect-9 hi-icon-effect-9a">
                        <a href="#about" class="hi-icon"><img src="/images/serve1.png" alt=" " /></a>
                    </div>
                    <h4>About</h4>
                    <p>Lorem ipsum Nam libero tempore cum soluta nobis est eligendi optio cumque nihil impedit.</p>
                </div>
                <div class="col-md-3 services-gd text-center wow slideInDown"  data-wow-duration="1s" data-wow-delay=".2s">
                    <div class="hi-icon-wrap hi-icon-effect-9 hi-icon-effect-9a">
                        <a href="#reservation" class="hi-icon"><img src="/images/serve2.png" alt=" " /></a>
                    </div>
                    <h4>Reservation</h4>
                    <p>Lorem ipsum Nam libero tempore cum soluta nobis est eligendi optio cumque nihil impedit.</p>
                </div>
                <div class="col-md-3 services-gd text-center wow slideInUp"  data-wow-duration="1s" data-wow-delay=".2s">
                    <div class="hi-icon-wrap hi-icon-effect-9 hi-icon-effect-9a">
                        <a href="#team" class="hi-icon"><img src="/images/serve3.png" alt=" " /></a>
                    </div>
                    <h4>Chefs</h4>
                    <p>Lorem ipsum Nam libero tempore cum soluta nobis est eligendi optio cumque nihil impedit.</p>
                </div>
                <div class="col-md-3 services-gd text-center wow slideInRight"  data-wow-duration="1s" data-wow-delay=".3s">
                    <div class="hi-icon-wrap hi-icon-effect-9 hi-icon-effect-9a">
                        <a href="#gallery" class="hi-icon"><img src="/images/serve4.png" alt=" " /></a>
                    </div>
                    <h4>Gallery</h4>
                    <p>Lorem ipsum Nam libero tempore cum soluta nobis est eligendi optio cumque nihil impedit.</p>
                </div>
                <div class="clearfix"> </div>
            </div>
        </div>
    </div>
{% endblock servces %}

{% block chefs %}
    <div class="team-section" id="team">
        <div class="container">
            <h3 class="tittle">Our Chefs</h3>
            <div class="arrows-serve"><img src="/images/border.png" alt="border"></div>
            <div class="box2">
                {% for i, chef in chefs %}
                    <div class="col-md-3 s-1 wow slideInLeft" data-wow-duration="1s" data-wow-delay=".3s">
                        <a href="#">
                            <div class="view view-fifth">
                                <img src="{{ chef.fullPath }}" alt="chef">
                                <div class="mask">
                                    <h4>{{ chef.motto }}</h4>
                                    <p>{{ chef.text }}</p>
                                </div>
                            </div>
                        </a>
                        <h3>{{ chef.firstname }}</h3>
                    </div>
                {% endfor %}

                <div class="clearfix"></div>
            </div>
        </div>
    </div>
{% endblock chefs %}

{% block review %}
    <div id="review" class="reviews">
        <div class="col-md-6 test-left-img">
        </div>
        <div class="col-md-6 test-monials">
            <h3 class="tittle">Testimonials</h3>
            <div class="arrows-serve test"><img src="/images/border.png" alt="border"></div>
            <!--//screen-gallery-->
            <div class="sreen-gallery-cursual">
                <div id="owl-demo" class="owl-carousel">
                    {% for i, testimonial in testimonials %}
                    <div class="item-owl">
                        <div class="test-review">
                            <p class="wow fadeInUp"  data-wow-duration=".8s" data-wow-delay=".4s">
                                <img src="/images/left-quotes.png" alt="">
                                {{ testimonial.review }} <img src="/images/right-quotes.png" alt="">
                            </p>
                            <img src="{{ testimonial.fullPath }}" class="img-responsive" alt=""/>
                            <h5 class="wow bounceIn"  data-wow-duration=".8s" data-wow-delay=".2s">
                                {{ testimonial.reviewAuthor }}
                            </h5>
                        </div>
                    </div>
                    {% endfor %}
                </div>
                <!--//screen-gallery-->
            </div>
        </div>
        <div class="clearfix"> </div>
    </div>
{% endblock review %}

{% block reservatation %}
    <div class="reservation" id="reservation">
        <div class="container">
            <div class="reservation-info">
                <h3 class="tittle reserve">Make a <br>
                    Reservation</h3>
                <div class="arrows-reserve"><img src="/images/border.png" alt="border"></div>

                <div class="book-reservation wow slideInUp" data-wow-duration="1s" data-wow-delay=".5s">
                    <form id="reservation_form" name="reservation_form">
                        <div class="col-md-4 form-left">
                            <label><i class="glyphicon glyphicon-calendar"></i>DateTime :</label>
                            <input type="datetime" required="required" name="dateReservation" id="dateReservation">
                        </div>
                        <div class="col-md-4 form-left">
                            <label><i class="glyphicon glyphicon-earphone"></i>Cont (Email/Phone):</label>
                            <input type="text" required="required" name="contactData" id="contactData">
                        </div>
                        <div class="col-md-4 form-left">
                            <label><i class="glyphicon glyphicon-user"></i>No.of People :</label>
                            <select name="countCustomers" class="form-control">
                                <option value="1">1 Person</option>
                                <option value="2">2 People</option>
                                <option value="3">3 People</option>
                                <option value="4">4 People</option>
                                <option value="5">5 People</option>
                                <option value="999">More</option>
                            </select>
                        </div>
                        {#<div class="col-md-4 form-right">#}
                            {#<label><i class="glyphicon glyphicon-time"></i> Time :</label>#}
                            {#<input type="time">#}
                        {#</div>#}
                        <div class="clearfix"> </div>
                        <div class="make wow shake" data-wow-duration="1s" data-wow-delay=".5s">
                            <input type="submit" value="Make a Reservation">
                        </div>
                    </form>
                </div>
                <div class="clearfix"> </div>
            </div>
        </div>
    </div>
{% endblock reservatation %}

{% block stylesheets %}
    {{ parent() }}

    <link rel="stylesheet" href="/css/bootstrap-datetimepicker.min.css" />
{% endblock stylesheets %}

{% block javascripts %}
    {{ parent() }}

    <script type="text/javascript" src="/js/moment.min.js"></script>
    <script type="text/javascript" src="/js/bootstrap-datetimepicker.min.js"></script>

    <script type="text/javascript">
        $(function () {
            $('#dateReservation').datetimepicker({
                format : 'DD/MM/YYYY HH:mm'
            });

            $('#reservation_form').submit(function(e) {
                e.preventDefault();

                var url = '{{ path('tim_frontend_reservation') }}';
                var data = $("#reservation_form").serialize();

                $.ajax({
                    type: 'POST',
                    url: url,
                    data: data,
                    dataType : 'json',
                    success: function(data) {
                        // console.log('Success');
                        // console.log('Data', data);

                        // clear form
                        $('#reservation_form')[0].reset();

                        // todo: add bootstrap modal popup to show thank you
                        alert(data.message);
                    },
                    error: function(data) {
                        // console.log('Error');
                        console.log('Data', data);

                        // todo: add bootstrap modal popup to show error
                        alert(data.message);
                    }
                });
            });
        });
    </script>
{% endblock javascripts %}